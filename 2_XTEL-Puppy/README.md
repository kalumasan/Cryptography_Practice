# 个人总结技术报告

## 一、主要贡献

负责实现大作业中的前端部分

## 二、完成的自认为有技术含量的工作

- 初步理解 html 文件的继承关系，通过继承同一个 html 文件的方式，成功地实现了导航栏的固定，提高了前端开发效率

- 使用开发者工具进行实时调试，提高前端元素排布的美观性，同时有助于排查 CSS 样式冲突

- 使用  JavaScript 实现与用户的实时互动，并通过数据传输建立前后端的连接

## 三、印象深刻的一些 bug 和自己的解决方法

### Ⅰ、排查CSS样式冲突 

**bug描述：** 在设置 login.html 中想要实现的打字机样式的欢迎信息时，好不容易搞清楚打字机的 CSS 文件应该放在 static 文件夹下，使得欢迎信息得以勉强以打字机样式呈现，结果文本框却异常的长：在结束文本的显示后，还要跑很远才会显示出光标。我做了很多搜索，修改打字机相关的选择器中的属性，增删改查，还是没办法解决这个问题

**解决方法：** 

- Round 1：向老师询问以后，打开了开发者工具，在试探性地点掉了一些有删除线的属性声明以后，打字机就奇迹般地变得正常呈现了，在进一步询问老师后得知，这是由于多个 CSS 规则使用相同的选择器导致的样式冲突，将打字机的 CSS 中自定义的选择器更改名字即可

- Round 2：在第二次遇到 CSS 样式冲突问题时，我立刻打开开发者工具希望得到 “该元素使用了数个相同的 CSS 选择器，因此导致了 CSS 样式冲突” 这一结论，结果这次却并没有发现。后来查找了一些解决方法也都行不通，因此采取了最粗暴的方式，直接在定义 HTML 的元素时，设置其 style 属性。这样设置的内联样式通常具有最高的优先级，因此不容易与其他样式规则冲突

### Ⅱ、在 HTML 元素与 JavaScript 代码之间进行参数传递

**bug描述：** 在通过 JavaScript 触发下载操作时，我一开始直接将 `<div>` 中使用过的路由粘贴到了 JavaScript 代码中：

``` JavaScript
 window.location.href = '/shared_files/download?filename={{e[0]}}&username={{e[1]}}&type=plaintext'
```

但在 JavaScript 代码中实际上并没有定义过 `filename` 与 `username`，因此会导致链接为无效链接，无法实现下载触发，同时负责后端部分的同学也在后续提出：需要前端向后端传递参数 `username` 

**解决方法：** 在用户点击以后需要有特殊响应的链接 `<a>` 处内联 JavaScript 事件处理

```JavaScript
<a href="#" onclick="verifyAndDownload('{{e[0]}}', '{{e[1]}}'); return false;">解密并下载</a>
```

通过调用函数，向 JavaScript 代码中传参。再在 JavaScript 中定义变量 `filename` 与 `username`，为这两个变量以传入的参数赋值，由此即可完成 JavaScript 控制的链接跳转，以及向后端传参

```JavaScript
// 构成有效链接
window.location.href = '/shared_files/download?filename=' + filename + '&username=' + username + '&type=plaintext';

// 向后端传参
var requestData = {
password: password,
username: username,
};
xhr.send(JSON.stringify(requestData));
```

### Ⅲ、动态生成链接

**bug描述：** 由于在编写 login.html 与 register.html 时需要使用的都是固定的路由，因此一直都只需要描写正确的路径即可，但在实现忘记密码-重新设置密码这个功能的过程中，由于输入验证码的页面路由是因人而异的，因此路由的表示也应是动态变化的，那么如何实现动态变化的路由呢

**解决方法：** 使用占位符 "{{ }}" 包裹数值动态变化的变量名，由服务器将这些占位符 "{{ }}" 替换为相应的变量值，以生成最终的路由

```html
<form action="/forgot/reset_password/{{ email }}" method="post">
```
在该路由表示中动态的变量为 email，变量值为象征用户唯一性的邮箱，有此路由则可做到为特定用户进行密码的重新设置

### Ⅳ、HTML 元素的放大

**bug描述：** 实际上在开发过程中还有许多类似的 “HTML 元素难以呈现出理想的效果” 的情况发生，因此以此为例进行描述。在完成某个块的 CSS 属性设置以后我认为从网页整体来看这个块有些小了，因此想直接将整个块进行放大，但一进行放大以后，整个块元素会向左上偏移，调整缩放的基点以后依然没能解决位移问题，只是使位移的方向发生了变化。

**解决方法：** 后来通过搜索，在 `scale` 后增加 `translate` 使 CSS 属性设置变为 `transform:scale-translate` 并在调整参数后发现貌似只要放大的倍数 * translate 的百分比的数值结果为 50，那么块元素就不会产生位移，因此最后我将属性设置为： 

```HTML
transform: scale(1.25) translate(-40%, -40%);
```

## 四、收获总结

- 初步了解开发者工具的作用
- 学习了作为前端如何与后端进行衔接
- 学习了多种 CSS 属性与其对应的样式规则
- 初步认识了 AdminlteLTE 与 Bootstrap 等各种前端框架，以及 WTForms 表单
- 初步了解了 JavaScript 代码与 HTML 语言的编写

## 五、个人感受总结

即使是以老师已给出的代码框架作为依托，开发一个网站依然十分繁复而困难。负责后端的以组长为中心的四位同学不断地调试，报错，调试，报错，修改一个又一个交错的后端文件，尤其是组长同学，在整个大作业中一直带领着大家，持续推进作业的整体进度，做到了职责的 200%。在完成大作业的过程中，我认识到密码学由课本走入程序中，根本的密码学理论知识却更为重要，同时也让我了解到了沟通与实践的重要性，以及自己的许多不足